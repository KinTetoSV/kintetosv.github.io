<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vrei să fii mecanic?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0e17;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 0;
            margin: 0;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        #app {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .hidden {
            display: none !important;
        }

        /* Menu Screen */
        .menu-screen {
            background: linear-gradient(135deg, #1a2a3a 0%, #0a0e17 100%);
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .logo {
            font-size: 2.8rem;
            font-weight: 800;
            color: #FFD700;
            margin-bottom: 1rem;
            text-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #ccc;
            margin-bottom: 3rem;
            max-width: 300px;
        }

        /* Game Screen */
        .game-screen {
            background: linear-gradient(135deg, #1a2a3a 0%, #0a0e17 100%);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 2px solid #FFD700;
            margin-bottom: 20px;
        }

        .game-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #FFD700;
        }

        .money-display {
            font-size: 1.3rem;
            font-weight: 600;
            color: #FFD700;
        }

        .progress-container {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 10px 0 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 8px;
            background: #FFD700;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .question-container {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #FFD700;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 600;
            color: #FFD700;
            text-align: center;
            margin-bottom: 25px;
            line-height: 1.4;
        }

        .answers-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .answer-btn {
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid #2a4365;
            border-radius: 12px;
            padding: 18px 15px;
            color: white;
            font-size: 1.1rem;
            text-align: left;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .answer-btn:active {
            transform: scale(0.98);
            background: rgba(255, 215, 0, 0.1);
            border-color: #FFD700;
        }

        .lifelines-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .lifeline-btn {
            background: linear-gradient(135deg, #2a4365, #1a365d);
            border: none;
            border-radius: 10px;
            padding: 12px 8px;
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .lifeline-btn:active {
            transform: scale(0.95);
            background: linear-gradient(135deg, #1a365d, #2a4365);
        }

        .lifeline-btn:disabled {
            background: #4a5568;
            color: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }

        .money-list {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            max-height: 150px;
            overflow-y: auto;
        }

        .money-item {
            padding: 8px 12px;
            margin: 4px 0;
            border-radius: 6px;
            font-size: 1rem;
            text-align: center;
            transition: all 0.2s ease;
        }

        .money-current {
            background: #FFD700;
            color: #1a202c;
            font-weight: 700;
            transform: scale(1.05);
        }

        .money-reached {
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
        }

        .money-upcoming {
            background: rgba(255, 255, 255, 0.05);
            color: #a0aec0;
        }

        /* Message Screen */
        .message-screen {
            background: linear-gradient(135deg, #1a2a3a 0%, #0a0e17 100%);
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .message-text {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 30px;
            line-height: 1.3;
        }

        .message-correct {
            color: #48bb78;
        }

        .message-wrong {
            color: #f56565;
        }

        .message-win {
            color: #FFD700;
            font-size: 2.2rem;
        }

        /* Buttons */
        .btn {
            background: linear-gradient(135deg, #FFD700, #ecc94b);
            border: none;
            border-radius: 50px;
            padding: 18px 40px;
            color: #1a202c;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
        }

        .continue-btn {
            margin-top: 20px;
        }

        /* Safe areas for iPhone X and newer */
        @supports (padding: max(0px)) {
            .screen {
                padding-left: max(20px, env(safe-area-inset-left));
                padding-right: max(20px, env(safe-area-inset-right));
                padding-top: max(20px, env(safe-area-inset-top));
                padding-bottom: max(20px, env(safe-area-inset-bottom));
            }
        }

        /* Landscape orientation adjustments */
        @media (max-height: 600px) and (orientation: landscape) {
            .menu-screen {
                padding-top: 10px;
                padding-bottom: 10px;
            }
            
            .logo {
                font-size: 2rem;
                margin-bottom: 0.5rem;
            }
            
            .subtitle {
                font-size: 1rem;
                margin-bottom: 1.5rem;
            }
            
            .question-text {
                font-size: 1.2rem;
                margin-bottom: 15px;
            }
            
            .answer-btn {
                padding: 12px 15px;
                font-size: 1rem;
            }
            
            .money-list {
                max-height: 100px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Menu Screen -->
        <div id="menuScreen" class="screen">
            <div class="logo">Vrei să fii mecanic?</div>
            <div class="subtitle">Răspunde corect la întrebări și câștigă până la 1.000.000 RON!</div>
            <button id="startBtn" class="btn">START JOC</button>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen hidden">
            <div class="header">
                <div class="game-title">MECANIC EXPERT</div>
                <div class="money-display" id="currentMoney">0 RON</div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <div class="question-container">
                <div class="question-text" id="questionText"></div>
                <div class="answers-container" id="answersContainer"></div>
            </div>

            <div class="lifelines-container">
                <button id="lifeline5050" class="lifeline-btn">50:50</button>
                <button id="lifelineFriend" class="lifeline-btn">PRIETEN</button>
                <button id="lifelineAudience" class="lifeline-btn">PUBLIC</button>
                <button id="lifelineChange" class="lifeline-btn">SCHIMBĂ</button>
            </div>

            <div class="money-list" id="moneyContainer"></div>
        </div>

        <!-- Message Screen -->
        <div id="messageScreen" class="screen hidden">
            <div class="message-text" id="messageText"></div>
            <button id="continueBtn" class="btn continue-btn">CONTINUĂ</button>
        </div>
    </div>

    <script>
        // Întrebări și răspunsuri - 15 întrebări complexe de mecanică
        const questions = [
            {
                q: "Ce cauzează prezența combustibilului în uleiul de motor?",
                a: ["Inel de compresie uzat", "Senzor de oxigen defect", "Termostat blocat deschis", "Filtru de aer împuținat"],
                correct: 0
            },
            {
                q: "Ce semnifică un zgomot de 'bătaie la piston' care dispare la încălzirea motorului?",
                a: ["Joc excesiv între piston și cilindru", "Arbore cotit uzat", "Probleme la sistemul de răcire", "Supape reglate incorect"],
                correct: 0
            },
            {
                q: "Care este diferența principală între un sistem common-rail și un sistem de injecție convențional?",
                a: ["Presiune constantă în rail și injecție controlată electronic", "Temperatura mai ridicată a combustibilului", "Utilizarea unui compresor în loc de turbină", "Absența pompei de injecție"],
                correct: 0
            },
            {
                q: "Ce consecințe are un EGR blocat în poziție deschisă?",
                a: ["Funcționare instabilă la ralanti și pierdere de putere", "Consum crescut de combustibil", "Temperaturi ridicate de funcționare", "Emisii reduse de NOx"],
                correct: 0
            },
            {
                q: "Ce indică un motor care produce fum albastru la accelerare?",
                a: ["Uzura segmentilor și arderea uleiului", "Temperaturi scăzute de funcționare", "Amestec prea bogat", "Probleme la sistemul de aprindere"],
                correct: 0
            },
            {
                q: "Care este rolul senzorului de detonație în managementul motorului?",
                a: ["Detectează bataia la motor și retardează avansul", "Măsoară temperatura gazelor de eșapament", "Controlează funcționarea EGR-ului", "Monitorizează presiunea din turbocompresor"],
                correct: 0
            },
            {
                q: "Ce cauzează un zgomot de 'tic-tac' ritmic care crește cu turația motorului?",
                a: ["Joc excesiv la supape", "Uzura rulmenților arborelui cotit", "Probleme la distribuție", "Piston lovind chiulasa"],
                correct: 0
            },
            {
                q: "Ce efect are un catalizator împuținat asupra performanței motorului?",
                a: ["Pierdere de putere și creșterea contrapresiunii", "Creșterea consumului de combustibil", "Scăderea temperaturii de funcționare", "Îmbunătățirea răspunsului la accelerare"],
                correct: 0
            },
            {
                q: "Ce diferențiază un sistem VVT-i de un sistem VVT-iE?",
                a: ["VVT-iE este controlat electric, nu hidraulic", "VVT-iE funcționează la viteze mai mari", "VVT-iE nu necesită ulei sub presiune", "VVT-iE controlează doar supapele de admisie"],
                correct: 0
            },
            {
                q: "Ce cauzează prezența apei în uleiul de motor?",
                a: ["Chiulasă fisurată sau garnitură de chiulasă defectă", "Condensare în carter din cauza scurtor deplasări", "Răcitor de ulei defect", "Sistem de ventilație carter blocat"],
                correct: 0
            },
            {
                q: "Ce indica un cod de eroare P0340?",
                a: ["Problemă la circuitul senzorului de poziție ax cu came", "Eroare la senzorul de poziție arbore cotit", "Defect la senzorul de detonație", "Problemă la sistemul de injecție"],
                correct: 0
            },
            {
                q: "Care este rolul pompei de vid în sistemul de frânare?",
                a: ["Creează vidul necesar pentru servofrână", "Asigură presiunea în sistemul de frânare", "Evacuă aerul din sistemul de frânare", "Controlează distribuția forței de frânare"],
                correct: 0
            },
            {
                q: "Ce efect are un senzor MAF defect asupra funcționării motorului?",
                a: ["Amestec combustibil-aer incorect și funcționare instabilă", "Creșterea temperaturii de funcționare", "Scăderea presiunii în sistemul de injecție", "Defectarea catalizatorului"],
                correct: 0
            },
            {
                q: "Ce caracteristică diferențiază un motor Atkinson de un motor Otto convențional?",
                a: ["Cursa de compresie mai lungă decât cursa de admisie", "Utilizarea unui compresor mecanic", "Absența sistemului de aprindere", "Raport de compresie variabil"],
                correct: 0
            },
            {
                q: "Ce cauzează un zgomot de 'bâzâit' la viraje în sistemul de direcție?",
                a: ["Uzura rulmentului pompei de direcție", "Nivel scăzut de lichid de direcție", "Cureaua de direcție slăbită", "Arbore de direcție uzat"],
                correct: 0
            }
        ];

        // Sumele pentru fiecare întrebare
        const moneyValues = [100, 200, 300, 500, 1000, 2000, 4000, 8000, 16000, 32000, 64000, 125000, 250000, 500000, 1000000];

        // Starea jocului
        let currentQuestion = 0;
        let currentMoney = 0;
        let hiddenAnswers = [];
        let lifelines = {
            "50:50": true,
            "prieten": true,
            "public": true,
            "schimba": true
        };

        // Elemente DOM
        const menuScreen = document.getElementById('menuScreen');
        const gameScreen = document.getElementById('gameScreen');
        const messageScreen = document.getElementById('messageScreen');
        const startBtn = document.getElementById('startBtn');
        const continueBtn = document.getElementById('continueBtn');
        const questionText = document.getElementById('questionText');
        const answersContainer = document.getElementById('answersContainer');
        const moneyContainer = document.getElementById('moneyContainer');
        const currentMoneyElement = document.getElementById('currentMoney');
        const messageText = document.getElementById('messageText');
        const progressBar = document.getElementById('progressBar');

        // Ajutoare
        const lifeline5050 = document.getElementById('lifeline5050');
        const lifelineFriend = document.getElementById('lifelineFriend');
        const lifelineAudience = document.getElementById('lifelineAudience');
        const lifelineChange = document.getElementById('lifelineChange');

        // Amestecă întrebările pentru a avea răspunsuri corecte distribuite aleatoriu
        function shuffleQuestions() {
            for (let i = questions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [questions[i], questions[j]] = [questions[j], questions[i]];
            }
        }

        // Inițializare joc
        function initGame() {
            shuffleQuestions();
            currentQuestion = 0;
            currentMoney = 0;
            hiddenAnswers = [];
            lifelines = {
                "50:50": true,
                "prieten": true,
                "public": true,
                "schimba": true
            };
            
            updateLifelines();
            updateMoneyDisplay();
            updateProgressBar();
            showQuestion();
        }

        // Afișează întrebarea curentă
        function showQuestion() {
            const question = questions[currentQuestion];
            questionText.textContent = `${currentQuestion + 1}. ${question.q}`;
            
            updateMoneyDisplay();
            updateProgressBar();
            
            answersContainer.innerHTML = '';
            question.a.forEach((answer, index) => {
                if (hiddenAnswers.includes(index)) return;
                
                const button = document.createElement('button');
                button.className = 'answer-btn';
                button.textContent = `${String.fromCharCode(65 + index)}. ${answer}`;
                button.onclick = () => checkAnswer(index);
                answersContainer.appendChild(button);
            });
        }

        // Verifică răspunsul
        function checkAnswer(answerIndex) {
            const question = questions[currentQuestion];
            const isCorrect = answerIndex === question.correct;
            
            if (isCorrect) {
                currentMoney = moneyValues[currentQuestion];
                currentQuestion++;
                
                if (currentMoney === 1000000) {
                    showMessage("FELICITĂRI! Ai câștigat 1.000.000 RON și ai devenit MECANIC EXPERT!", "win");
                } else if (currentQuestion >= questions.length) {
                    showMessage("Felicitări! Ai terminat toate întrebările și ai câștigat " + currentMoney.toLocaleString() + " RON!", "win");
                } else {
                    showMessage("Răspuns corect!", "correct");
                }
            } else {
                showMessage("Răspuns greșit! Ai câștigat " + (currentQuestion > 0 ? moneyValues[currentQuestion-1].toLocaleString() : 0) + " RON.", "wrong");
            }
        }

        // Afișează mesaj
        function showMessage(text, type) {
            messageText.textContent = text;
            messageText.className = `message-text message-${type}`;
            gameScreen.classList.add('hidden');
            messageScreen.classList.remove('hidden');
        }

        // Actualizează afișajul banilor
        function updateMoneyDisplay() {
            currentMoneyElement.textContent = currentMoney.toLocaleString() + ' RON';
            
            moneyContainer.innerHTML = '';
            moneyValues.forEach((value, index) => {
                const moneyElement = document.createElement('div');
                moneyElement.className = 'money-item ';
                
                if (index === currentQuestion) {
                    moneyElement.classList.add('money-current');
                } else if (index < currentQuestion) {
                    moneyElement.classList.add('money-reached');
                } else {
                    moneyElement.classList.add('money-upcoming');
                }
                
                moneyElement.textContent = value.toLocaleString() + ' RON';
                moneyContainer.appendChild(moneyElement);
            });
        }

        // Actualizează bara de progres
        function updateProgressBar() {
            const progress = (currentQuestion / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Actualizează starea ajutoarelor
        function updateLifelines() {
            lifeline5050.disabled = !lifelines["50:50"];
            lifelineFriend.disabled = !lifelines["prieten"];
            lifelineAudience.disabled = !lifelines["public"];
            lifelineChange.disabled = !lifelines["schimba"];
        }

        // Ajutor 50:50
        lifeline5050.addEventListener('click', function() {
            if (!lifelines["50:50"]) return;
            
            const question = questions[currentQuestion];
            const wrongAnswers = [];
            
            for (let i = 0; i < question.a.length; i++) {
                if (i !== question.correct) {
                    wrongAnswers.push(i);
                }
            }
            
            const toHide = [];
            toHide.push(wrongAnswers[Math.floor(Math.random() * wrongAnswers.length)]);
            
            const remainingWrong = wrongAnswers.filter(i => i !== toHide[0]);
            toHide.push(remainingWrong[Math.floor(Math.random() * remainingWrong.length)]);
            
            hiddenAnswers = toHide;
            lifelines["50:50"] = false;
            updateLifelines();
            showQuestion();
        });

        // Ajutor prieten
        lifelineFriend.addEventListener('click', function() {
            if (!lifelines["prieten"]) return;
            
            const question = questions[currentQuestion];
            const correctAnswer = question.a[question.correct];
            
            const isCorrectAdvice = Math.random() < 0.8;
            let advice;
            
            if (isCorrectAdvice) {
                advice = `Prietenul tău mecanic spune: "Sunt sigur că răspunsul corect este ${correctAnswer}".`;
            } else {
                const wrongAnswers = [];
                for (let i = 0; i < question.a.length; i++) {
                    if (i !== question.correct) {
                        wrongAnswers.push(question.a[i]);
                    }
                }
                const wrongAnswer = wrongAnswers[Math.floor(Math.random() * wrongAnswers.length)];
                advice = `Prietenul tău mecanic spune: "Cred că răspunsul corect este ${wrongAnswer}".`;
            }
            
            alert(advice);
            lifelines["prieten"] = false;
            updateLifelines();
        });

        // Ajutor public
        lifelineAudience.addEventListener('click', function() {
            if (!lifelines["public"]) return;
            
            const question = questions[currentQuestion];
            const correctIndex = question.correct;
            
            let percentages = [0, 0, 0, 0];
            let total = 0;
            
            for (let i = 0; i < 4; i++) {
                if (i === correctIndex) {
                    percentages[i] = Math.floor(Math.random() * 30) + 40;
                } else {
                    percentages[i] = Math.floor(Math.random() * 20) + 5;
                }
                total += percentages[i];
            }
            
            const adjustment = 100 - total;
            percentages[correctIndex] += adjustment;
            
            let results = "Publicul a votat astfel:\n";
            question.a.forEach((answer, index) => {
                results += `${String.fromCharCode(65 + index)}. ${answer}: ${percentages[index]}%\n`;
            });
            
            alert(results);
            lifelines["public"] = false;
            updateLifelines();
        });

        // Ajutor schimbă întrebarea
        lifelineChange.addEventListener('click', function() {
            if (!lifelines["schimba"]) return;
            
            const availableQuestions = questions.filter((q, index) => index !== currentQuestion);
            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            
            questions[currentQuestion] = availableQuestions[randomIndex];
            
            hiddenAnswers = [];
            lifelines["schimba"] = false;
            updateLifelines();
            showQuestion();
        });

        // Evenimente butoane
        startBtn.addEventListener('click', function() {
            menuScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            initGame();
        });

        continueBtn.addEventListener('click', function() {
            if (currentMoney === 1000000 || currentQuestion >= questions.length) {
                menuScreen.classList.remove('hidden');
                messageScreen.classList.add('hidden');
            } else {
                messageScreen.classList.add('hidden');
                gameScreen.classList.remove('hidden');
                hiddenAnswers = [];
                showQuestion();
            }
        });

        // Inițializare la încărcarea paginii
        window.addEventListener('load', function() {
            menuScreen.classList.remove('hidden');
        });
    </script>
</body>
</html>
